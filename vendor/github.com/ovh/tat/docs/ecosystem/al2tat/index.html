<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.19-DEV" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="https://raw.githubusercontent.com/ovh/tat/master/tat.png" type="image/x-icon" />

    
    <title>al2tat</title>
    <link href="https://ovh.github.io/tat/css/nucleus.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/hybrid.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/featherlight.min.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/horsey.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/theme.css" rel="stylesheet">
    <link href="https://ovh.github.io/tat/css/hugo-theme.css" rel="stylesheet">
    <script src="https://ovh.github.io/tat/js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    <link href="https://ovh.github.io/tat/css/style.css" rel="stylesheet">

  </head>
  <body class="" data-url="/ecosystem/al2tat/">
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <img src="https://raw.githubusercontent.com/ovh/tat/master/tat.png" width="25%" style="margin-top: -15px;">

    </div>
    
      <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input id="search-by" type="text" placeholder="Search">
</div>
<script type="text/javascript" src="https://ovh.github.io/tat/js/lunr.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/tat/js/horsey.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/ovh.github.io\/tat";
</script>
<script type="text/javascript" src="https://ovh.github.io/tat/js/search.js"></script>

    
</div>


  <div class="highlightable">
    <ul class="topics">
      
      
        
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/overview/">
        <a href="https://ovh.github.io/tat/overview/">
          <span>
            
              <b>1. </b>
            
             Overview
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/overview/introduction/">
              <a href="https://ovh.github.io/tat/overview/introduction/">
                <span>Introduction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/overview/concepts/">
              <a href="https://ovh.github.io/tat/overview/concepts/">
                <span>Concepts     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/overview/lifecycle/">
              <a href="https://ovh.github.io/tat/overview/lifecycle/">
                <span>DevOps LifeCycle / Feedback Loop     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/overview/architecture/">
              <a href="https://ovh.github.io/tat/overview/architecture/">
                <span>Architecture     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/overview/contribute/">
              <a href="https://ovh.github.io/tat/overview/contribute/">
                <span>Contribute     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/tatwebui/">
        <a href="https://ovh.github.io/tat/tatwebui/">
          <span>
            
              <b>2. </b>
            
             Tat Webui
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/introduction/">
              <a href="https://ovh.github.io/tat/tatwebui/introduction/">
                <span>Introduction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/standardview/">
              <a href="https://ovh.github.io/tat/tatwebui/standardview/">
                <span>Standard View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/notificationsview/">
              <a href="https://ovh.github.io/tat/tatwebui/notificationsview/">
                <span>Notifications View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/monitoringview/">
              <a href="https://ovh.github.io/tat/tatwebui/monitoringview/">
                <span>Monitoring View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/pastatview/">
              <a href="https://ovh.github.io/tat/tatwebui/pastatview/">
                <span>Pastat View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/dashingview/">
              <a href="https://ovh.github.io/tat/tatwebui/dashingview/">
                <span>Dashing View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/releaseview/">
              <a href="https://ovh.github.io/tat/tatwebui/releaseview/">
                <span>Release View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/cdsview/">
              <a href="https://ovh.github.io/tat/tatwebui/cdsview/">
                <span>CDS View     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatwebui/development/">
              <a href="https://ovh.github.io/tat/tatwebui/development/">
                <span>Development     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/engine/">
        <a href="https://ovh.github.io/tat/engine/">
          <span>
            
              <b>3. </b>
            
             Tat Engine Reference
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/engine/general/">
              <a href="https://ovh.github.io/tat/engine/general/">
                <span>General     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/api-messages/">
              <a href="https://ovh.github.io/tat/engine/api-messages/">
                <span>API - Messages     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/api-topics/">
              <a href="https://ovh.github.io/tat/engine/api-topics/">
                <span>API - Topics     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/api-users/">
              <a href="https://ovh.github.io/tat/engine/api-users/">
                <span>API - Users     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/api-groups/">
              <a href="https://ovh.github.io/tat/engine/api-groups/">
                <span>API - Groups     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/api-presences/">
              <a href="https://ovh.github.io/tat/engine/api-presences/">
                <span>API - Presences     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/api-system/">
              <a href="https://ovh.github.io/tat/engine/api-system/">
                <span>API - System     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/simple-installation/">
              <a href="https://ovh.github.io/tat/engine/simple-installation/">
                <span>Simple Installation     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/engine/production-installation/">
              <a href="https://ovh.github.io/tat/engine/production-installation/">
                <span>Installation - Production Way     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/tatcli/">
        <a href="https://ovh.github.io/tat/tatcli/">
          <span>
            
              <b>4. </b>
            
             Tat CLI Reference
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/general/">
              <a href="https://ovh.github.io/tat/tatcli/general/">
                <span>General     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-config/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-config/">
                <span>tatcli config -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-group/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-group/">
                <span>tatcli group -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-message/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-message/">
                <span>tatcli message -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-presence/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-presence/">
                <span>tatcli presence -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-stats/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-stats/">
                <span>tatcli stats -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-system/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-system/">
                <span>tatcli system -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-topic/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-topic/">
                <span>tatcli topic -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-ui/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-ui/">
                <span>tatcli ui -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-update/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-update/">
                <span>tatcli update -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-user/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-user/">
                <span>tatcli users -h     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatcli/tatcli-version/">
              <a href="https://ovh.github.io/tat/tatcli/tatcli-version/">
                <span>tatcli version -h     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/sdk/">
        <a href="https://ovh.github.io/tat/sdk/">
          <span>
            
              <b>5. </b>
            
             Tat SDK
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/sdk/golang-simple-main/">
              <a href="https://ovh.github.io/tat/sdk/golang-simple-main/">
                <span>Golang - A simple main example     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/sdk/golang-full-example/">
              <a href="https://ovh.github.io/tat/sdk/golang-full-example/">
                <span>Golang - Full Example     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/ecosystem/">
        <a href="https://ovh.github.io/tat/ecosystem/">
          <span>
            
              <b>6. </b>
            
             Ecosystem
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item active" data-nav-id="/ecosystem/al2tat/">
              <a href="https://ovh.github.io/tat/ecosystem/al2tat/">
                <span>al2tat     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/ecosystem/mail2tat/">
              <a href="https://ovh.github.io/tat/ecosystem/mail2tat/">
                <span>mail2tat     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/ecosystem/tat2es/">
              <a href="https://ovh.github.io/tat/ecosystem/tat2es/">
                <span>tat2es     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/ecosystem/tat2xmpp/">
              <a href="https://ovh.github.io/tat/ecosystem/tat2xmpp/">
                <span>tat2xmpp     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/ecosystem/tatdashing/">
              <a href="https://ovh.github.io/tat/ecosystem/tatdashing/">
                <span>tatdashing     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/tatnhack/">
        <a href="https://ovh.github.io/tat/tatnhack/">
          <span>
            
              <b>7. </b>
            
             Tat&#39;n Hack
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/tatnhack/monitoring-process/">
              <a href="https://ovh.github.io/tat/tatnhack/monitoring-process/">
                <span>Monitoring a process with al2tat     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/tatnhack/visual-feedback/">
              <a href="https://ovh.github.io/tat/tatnhack/visual-feedback/">
                <span>Visual Feedback     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>Built with <a href="http://gohugo.io/">Hugo</a> and <a href="https://github.com/matcornic/hugo-theme-learn">learn theme</a></i></p>
      <p>Tat is an <a href="https://github.com/ovh">OVH OSS</a></p>
      <p><a href="https://ovh.com"><img src="https://ovh.github.io/tat/imgs/ovh-logo.png"></a></p>
    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                
                
                  
                    
                    
                <a href="https://ovh.github.io/tat/ecosystem/" itemprop="url"><span itemprop="title">Ecosystem</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                <span itemprop="title"> al2tat</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#alerts">Alerts</a></li>
<li><a href="#monitoring-events">Monitoring Events</a></li>
</ul></li>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#alert">Alert</a>
<ul>
<li><a href="#store-new-alert">Store new alert</a></li>
<li><a href="#store-new-alert-with-a-label">Store new alert with a label</a></li>
<li><a href="#sync-vs-async">Sync vs Async</a></li>
<li><a href="#purge-alerts">Purge alerts</a></li>
</ul></li>
<li><a href="#monitoring">Monitoring</a>
<ul>
<li><a href="#store-a-new-event">Store a new event</a></li>
<li><a href="#sync-vs-async-1">Sync vs Async</a></li>
</ul></li>
<li><a href="#system">System</a>
<ul>
<li><a href="#version">Version</a></li>
</ul></li>
<li><a href="#usage-1">Usage</a>
<ul>
<li><a href="#building">Building</a></li>
<li><a href="#flags">Flags</a></li>
<li><a href="#environment">Environment</a></li>
</ul></li>
</ul></li>
<li><a href="#examples-for-posting-an-alert">Examples for POSTing an alert</a>
<ul>
<li><a href="#perl-version">Perl version</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

              

            </div>
            
    	        <div id="body-inner">
                
                <h1>al2tat</h1>
                



<p><img align="right" src="https://raw.githubusercontent.com/ovh/tat/master/tat.png"></p>

<p>This microservice can be used :</p>

<ul>
<li>to send alerts to Tat (<a href="https://github.com/ovh/tat">https://github.com/ovh/tat</a>).</li>
<li>to send monitoring events to Tat.</li>
</ul>

<h2 id="alerts">Alerts</h2>

<p>An alert is an event with a &lsquo;AL&rsquo; status. An alert can be replayed, al2tat attach
this on a root message. If there is a new occurrence with same summary with
&lsquo;UP&rsquo; status, alert will be closed.
Best Tat view for theses: StandardView (<a href="https://github.com/ovh/tatwebui-plugin-standardview">https://github.com/ovh/tatwebui-plugin-standardview</a>)</p>

<ul>
<li>Compute Replay: if alarm already exists, the replay will be a reply of root alarm</li>
<li>Pre-select Label :

<ul>
<li>a new alarm &ldquo;AL&rdquo; will receive label &ldquo;open&rdquo; with red color on tat</li>
<li>a new alarm &ldquo;UP&rdquo; will receive label &ldquo;done&rdquo; with green color on tat</li>
<li>A new alarm &ldquo;AL&rdquo; will close previous &ldquo;AL&rdquo; in same thread</li>
</ul></li>
</ul>

<h2 id="monitoring-events">Monitoring Events</h2>

<p>An event monitoring is attached to one item (host, soft, person&hellip; whatever), all events are held three days, and only 30 events are retained after 3d. Best Tat view for theses: Monitoring View (<a href="https://github.com/ovh/tatwebui-plugin-monitoringview">https://github.com/ovh/tatwebui-plugin-monitoringview</a>)</p>

<h1 id="usage">Usage</h1>

<h2 id="alert">Alert</h2>

<h3 id="store-new-alert">Store new alert</h3>

<p>If <code>Tat_topic == &quot;&quot;</code>, default value is <code>/Internal/Alerts</code></p>

<pre><code>curl -XPOST \
    -H &quot;Content-Type: application/json&quot; \
    -H &quot;Tat_username: yourTatUser&quot; \
    -H &quot;Tat_password: yourTatPassword&quot; \
    -H &quot;Tat_topic: /Internal/Alerts&quot; \
    -d '{
    &quot;status&quot;: &quot;AL&quot;,
    &quot;nbAlert&quot;: 1,
    &quot;service&quot;: &quot;YourService&quot;,
    &quot;summary&quot;: &quot;your alert description here&quot;
}' http://&lt;hostname&gt;:&lt;port&gt;/alert
</code></pre>

<p><code>nbAlert</code> can be used to represent the number of elements impacted by your alert.
It is not used to compute alert&rsquo;s repetitions.</p>

<h3 id="store-new-alert-with-a-label">Store new alert with a label</h3>

<p>If <code>Tat_topic == &quot;&quot;</code>, default value is <code>/Internal/Alerts</code></p>

<pre><code>curl -XPOST \
    -H &quot;Content-Type: application/json&quot; \
    -H &quot;Tat_username: tatusername&quot; \
    -H &quot;Tat_password: tatpassword&quot; \
    -H &quot;Tat_topic: /Internal/Alerts&quot; \
    -d '{
    &quot;status&quot;: &quot;AL&quot;,
    &quot;nbAlert&quot;: 3,
    &quot;service&quot;: &quot;YourService&quot;,
    &quot;labels&quot;: [{&quot;text&quot;: &quot;critical:high&quot;, &quot;color&quot;:&quot;#d04437&quot;}],
    &quot;summary&quot;: &quot; your alert description here&quot;
}' http://&lt;hostname&gt;:&lt;port&gt;/alert
</code></pre>

<h3 id="sync-vs-async">Sync vs Async</h3>

<p>POST on <code>http://&lt;hostname&gt;:&lt;port&gt;/alert</code>: send asynchronous to tat engine.</p>

<p>POST on <code>http://&lt;hostname&gt;:&lt;port&gt;/alert/sync</code>: send synchronous to tat engine, and return message</p>

<h3 id="purge-alerts">Purge alerts</h3>

<p>You have to call endpoint: <code>/purge/:skip/:limit</code> to purge Tat_topic, for keeping
30 replies on each alerts.</p>

<p>Purge example the last 100 alerts on tat :</p>

<pre><code>curl -XPUT \
    -H &quot;Content-Type: application/json&quot; \
    -H &quot;Tat_username: tatusername&quot; \
    -H &quot;Tat_password: tatpassword&quot; \
    -H &quot;Tat_topic: /Internal/Alerts&quot;
}' http://&lt;hostname&gt;:&lt;port&gt;/purge/0/100

</code></pre>

<h2 id="monitoring">Monitoring</h2>

<h3 id="store-a-new-event">Store a new event</h3>

<pre><code>curl -XPOST \
    -H &quot;Content-Type: application/json&quot; \
    -H &quot;Tat_username: yourTatUser&quot; \
    -H &quot;Tat_password: yourTatPassword&quot; \
    -H &quot;Tat_topic: /Internal/Monitoring&quot; \
    -d '{
    &quot;status&quot;: &quot;AL&quot;,
    &quot;item&quot;: &quot;yourApplication&quot;,
    &quot;service&quot;: &quot;SERVICE&quot;,
    &quot;summary&quot;: &quot;your description&quot;,
    &quot;labels&quot;: [{&quot;text&quot;: &quot;critical:high&quot;, &quot;color&quot;:&quot;#d04437&quot;}]
}' http://&lt;hostname&gt;:&lt;port&gt;/monitoring
</code></pre>

<p>with :</p>

<pre><code>status: AL or UP
service: your service
summary: description of event
item: your application name, or host...
labels: facultative, add labels to message root, the first message sent for an item.
</code></pre>

<h3 id="sync-vs-async-1">Sync vs Async</h3>

<p>POST on <code>http://&lt;hostname&gt;:&lt;port&gt;/monitoring</code>: send asynchronous to tat engine.</p>

<p>POST on <code>http://&lt;hostname&gt;:&lt;port&gt;/monitoring/sync</code>: send synchronous to tat engine, and return message</p>

<h2 id="system">System</h2>

<h3 id="version">Version</h3>

<pre><code>curl -XGET http://&lt;tatHostname&gt;:&lt;tatPort&gt;/version
</code></pre>

<h2 id="usage-1">Usage</h2>

<h3 id="building">Building</h3>

<pre><code class="language-bash">mkdir -p $GOPATH/src/github.com/ovh
cd $GOPATH/src/github.com/ovh
git clone git@github.com:ovh/tat-contrib.git
cd tat-contrib/al2tat
go build
./al2tat -h
</code></pre>

<h3 id="flags">Flags</h3>

<pre><code>./al2tat -h
Run Al2Tat

Usage:
  al2tat [flags]
  al2tat [command]

Available Commands:
  version     Print the version.

Flags:
      --listen-port string      Tat Engine Listen Port (default &quot;8082&quot;)
      --log-level string        Log Level : debug, info or warn
      --production              Production mode
      --url-tat-engine string   URL Tat Engine (default &quot;http://localhost:8080&quot;)

Use &quot;al2tat [command] --help&quot; for more information about a command.
</code></pre>

<h3 id="environment">Environment</h3>

<ul>
<li>AL2TAT_LISTEN_PORT</li>
</ul>

<p>Example :</p>

<pre><code>export AL2TAT_LISTEN_PORT=8181 &amp;&amp; ./al2tat
</code></pre>

<p>is same than</p>

<pre><code>./al2tat --listen-port=&quot;8181&quot;
</code></pre>

<h1 id="examples-for-posting-an-alert">Examples for POSTing an alert</h1>

<h2 id="perl-version">Perl version</h2>

<pre><code class="language-perl">package AL2TAT;

use Exporter qw(import);

our @EXPORT_OK = qw(run getMessage);

use strict;
use warnings;
use LWP::UserAgent;

sub run
{
  my &lt;hostname&gt;:&lt;port&gt;/alert&quot;;
  my $TAT_TOPIC_KEY = &quot;/Private/yourTopic&quot;;
  my $TAT_USER_KEY = &quot;yourUsernameOnTat&quot;;
  my $TAT_PASSWORD_KEY = &quot;yourTatVeryLongPasswordHere&quot;;

  my $message = getMessage();
  sendMessage($TAT_URL_KEY, $TAT_TOPIC_KEY, $TAT_USER_KEY, $TAT_PASSWORD_KEY, $message);
}

sub sendMessage
{
    my $url = $_[0];
    my $topic = $_[1];
    my $user = $_[2];
    my $password = $_[3];
    my $message = $_[4];

    my $req = HTTP::Request-&gt;new(POST =&gt; $url);
    $req-&gt;header('Content-Type' =&gt; 'application/json');
    $req-&gt;header('Tat_username' =&gt; $user);
    $req-&gt;header('Tat_password' =&gt; $password);
    $req-&gt;header('Tat_topic' =&gt; $topic);

    my $post_data = '{&quot;status&quot;: &quot;AL&quot;, &quot;nbAlert&quot;: 1, &quot;service&quot;: &quot;TEST&quot;, &quot;summary&quot;: &quot;'.$message.'&quot;}';
    $req-&gt;content($post_data);

    my $ua = LWP::UserAgent-&gt;new;
    my $resp = $ua-&gt;request($req);

    print &quot;Response Status: &quot;, $resp-&gt;code, &quot;\n&quot;;
    if ($resp-&gt;is_success) {
        my $message = $resp-&gt;decoded_content;
        print &quot;Received reply: $message\n&quot;;
    } else {
        print &quot;HTTP POST error message: &quot;, $resp-&gt;message, &quot;\n&quot;;
    }
}

sub getMessage
{
    return &quot;Message from perl &quot;;
}

run()

</code></pre>


      
      </div>
    </div>

    <div id="navigation">
        <a class="nav nav-prev" href="https://ovh.github.io/tat/ecosystem"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="https://ovh.github.io/tat/ecosystem/mail2tat" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://ovh.github.io/tat/js/clipboard.min.js"></script>
    <script src="https://ovh.github.io/tat/js/perfect-scrollbar.min.js"></script>
    <script src="https://ovh.github.io/tat/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://ovh.github.io/tat/js/jquery.sticky-kit.min.js"></script>
    <script src="https://ovh.github.io/tat/js/featherlight.min.js"></script>
    <script src="https://ovh.github.io/tat/js/html5shiv-printshiv.min.js"></script>
    <script src="https://ovh.github.io/tat/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://ovh.github.io/tat/js/modernizr.custom.71422.js"></script>
    <script src="https://ovh.github.io/tat/js/learn.js"></script>
    <script src="https://ovh.github.io/tat/js/hugo-learn.js"></script>
    

  </body>
</html>

