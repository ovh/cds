<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="https://ovh.github.io/cds/images/favicon.png" type="image/x-icon" />
    <title>Advanceds :: CDS Documentation</title>
    <link href="https://ovh.github.io/cds/css/nucleus.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/hybrid.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/featherlight.min.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/horsey.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/theme.css" rel="stylesheet">
    <link href="https://ovh.github.io/cds/css/hugo-theme.css" rel="stylesheet">
    <link rel="stylesheet" href="https://ovh.github.io/cds/css/bootstrap.min.css">
    <script src="https://ovh.github.io/cds/js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    

  </head>
  <body class="" data-url="/advanced/">
    
<nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
       
	<p><img src="https://ovh.github.io/cds/images/cds-transparent.png?width=40px" alt="CDS" /></p>
 


    </div>
    
  </div>

  <div class="highlightable">
    <ul class="topics">
        

        
        
        
        
            
    
    

    <li data-nav-id="/introduction/introduction/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/introduction/introduction/">
            Introduction
            
            
              
                <i style="color:grey" class="fa fa-angle-right section-icon"></i>
              
            
        </a>
        
    </li>

        
            
    
    

    <li data-nav-id="/getting-started/getting-started.first-pipeline-ui/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/getting-started/getting-started.first-pipeline-ui/">
            Getting Started
            
            
        </a>
        
    </li>

        
            
    
    

    <li data-nav-id="/building-pipelines/building-pipelines/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/building-pipelines/building-pipelines/">
            Building Pipelines
            
            
              
                <i style="color:grey" class="fa fa-angle-right section-icon"></i>
              
            
        </a>
        
    </li>

        
            
    
    

    <li data-nav-id="/building-workflows/building-workflows/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/building-workflows/building-workflows/">
            Building Workflows
            
            
              
                <i style="color:grey" class="fa fa-angle-right section-icon"></i>
              
            
        </a>
        
    </li>

        
            
    
    

    <li data-nav-id="/installation/installation/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/installation/installation/">
            Installation
            
            
              
                <i style="color:grey" class="fa fa-angle-right section-icon"></i>
              
            
        </a>
        
    </li>

        
            
    
    

    <li data-nav-id="/advanced/advanced/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/advanced/advanced/">
            Advanced
            
            
              
                <i style="color:grey" class="fa fa-angle-right section-icon"></i>
              
            
        </a>
        
    </li>

        
            
    
    

    <li data-nav-id="/tutorials/tutorials/" class="dd-item
    
    ">
        <a href="https://ovh.github.io/cds/tutorials/tutorials/">
            Tutorials
            
            
              
                <i style="color:grey" class="fa fa-angle-right section-icon"></i>
              
            
        </a>
        
    </li>

        





        
        <section id="shortcuts">
            
                <li class="" role="">
                    <h3></h3>
                    <a href="https://github.com/ovh/cds"><i class='fa fa-github'></i> Source Code</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://github.com/ovh/cds/releases"><i class='fa fa-download'></i> Releases</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://gitter.im/ovh-cds/Lobby"><i class='fa fa-commenting'></i> Gitter</a>
                    
                </li>
            
        </section>

        

        
    </ul>


    <section id="footer">
      <section style="text-align:center">
  <p>Built with <a href="http://gohugo.io/">Hugo</a> and <a href="https://github.com/vjeantet/hugo-theme-docdock">docdock theme</a></i></p>
  <p>CDS is an <a href="https://github.com/ovh">OVH OSS</a></p>
  <p><a href="https://ovh.com"><img src="https://ovh.github.io/tat/imgs/ovh-logo.png"></a></p>
</section>

    </section>
  </div>
</nav>



        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">
        
          <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">

                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                  <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>

                      <a href="https://ovh.github.io/cds">
                      <span class="fa fa-arrow-circle-right" style="font-size:larger" aria-hidden="true"></span>
                      CDS Documentation</a>
                      
                       > Advanceds
              </div>

                  <div class="progress">
    <div class="wrapper">

    </div>
</div>

            </div>
        
              
            <div id="body-inner">
              
              <h1>Advanceds</h1>
              




<div class="extra-pagination inner">
<nav class="pagination" role="navigation">
	
	<span class="page-number">Page 1 on 2</span>
	
	    <a class="older-posts" href="https://ovh.github.io/cds/advanced/page/2/">Previous Pages &rarr;</a>
	
</nav>

</div>


   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.worker.token/">Generate a Token</a></h2>
    </header>
    <section class="post-excerpt">
        <p> Purpose In order to start a worker or a Hatchery, you need to provide a token to be able to register on CDS API.
CLI Run the following command, replace yourgroup with your group
$ cds generate token -g yourgroup -e persistent   <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.worker.token/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.repositories_manager.github/">Github</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Authorize CDS on Github Create a CDS application on Github Go to https://github.com/settings/developers and Register a new application: set an application name, the url and a description. Authorization callback URL: http(s)://&lt;your-cds-api&gt;/repositories_manager/oauth2/callback
On the next page Github give you a Client ID and a Client Secret
Connect CDS To Github Set env CDS_VCS_REPOSITORIES_GITHUB_CLIENTSECRET or update your configuration file with &lt;client-secret&gt;:
[vcs.repositories.github] clientsecret = &quot;&lt;client-secret&gt;&quot;  Then restart CDS
With CDS CLI run : <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.repositories_manager.github/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.repositories_manager.bitbucket/">Bitbucket</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Authorize CDS on your Bitbucket instance You need to perform the following steps :
 Bitbucket admin privileges A RSA Key Pair  Create a CDS application in BitBucket In Bitbucket go to Administration Settings / Application Links. Create a new Application with :
 Name : CDS Type : Generic Application Application URL : Your CDS URL Display URL : Your CDS URL  On this application, you just have to set up OAuth Incoming Authentication : <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.repositories_manager.bitbucket/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.repositories_manager.gitlab/">Gitlab</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Authorize CDS on your Gitlab instance What you need to perform the following steps :
 Gitlab admin privileges  Create a CDS application on Gitlab In Gitlab go to Settings / Application section. Create a new application with :
 Name : CDS Redirect URI : http(s):///repositories_manager/oauth2/callback  Scopes :
 API read_user read_registry  Connect CDS to Gitlab Using CDS CLI, run :
 $ cds admin reposmanager add GITLAB mygitlab. <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.repositories_manager.gitlab/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.hatcheries/">Hatcheries</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Hatchery is a service dedicated to spawn and kill worker in accordance with build queue needs.
An hatchery is started with permissions to build all pipelines accessible from a given group, using token.
There are 6 modes for hatcheries:
 Local (Start local workers on a single host) Marathon (Start worker model instances on a mesos cluster with marathon framework) Swarm (Start worker on a docker swarm cluster) Openstack (Start virtual machines on an openstack cluster) VSphere (Start virtual machines on an VSphere cluster)  Local mode Hatchery starts workers directly as local process. <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.hatcheries/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.hatcheries.swarm/">Hatchery Swarm</a></h2>
    </header>
    <section class="post-excerpt">
        <p>CDS build using Docker Swarm to spawn CDS Worker.
Start Swarm hatchery Generate a token for group:
$ cds generate token -g shared.infra -e persistent fc300aad48242d19e782a37d361dfa3e55868a629e52d7f6825c7ce65a72bf92  Edit the CDS configuration or set the dedicated environment variables. To enable the hactchery, just set the API HTTP and GRPC URL, the token freshly generated.
This hatchery use the standard docker environment variables to connect to a docker host.
Then start hatchery: <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.hatcheries.swarm/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.worker/">Worker</a></h2>
    </header>
    <section class="post-excerpt">
        <p>A pipeline is structured in sequential stages containing one or multiple concurrent jobs. A Job will be executed by a worker.
Building your own worker model enables you to integrate your own tools, or to customize the tools you need to use. For instance, to build an AngularJs application, you shall need a worker capable of installing npm tools, importing bower packages (these are nodeJs tools), building webfonts with fontforge&hellip; <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.worker/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.worker.model/">Worker Model</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Purpose The goal of CDS is to start a worker when you need it, which should match all your requirements exactly. In order to scale automatically on demand, it is possible to register a worker model.
The goal of a worker model is to describe the capabilities of a given docker/iso image in terms of architecture, pre-installed binaries or libraries.
Types There are 2 types of worker models:
 Docker images, see how to create a worker model docker Openstack images, see how to create a worker model openstack  Capabilities Capabilities have a name, a type and a value. <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.worker.model/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.hatcheries.openstack/">Hatchery Openstack</a></h2>
    </header>
    <section class="post-excerpt">
        <p>CDS build using Openstack infrastructure to spawn each CDS Workers inside dedicated virtual machine.
Start Opentack hatchery Generate a token for group:
$ cds generate token -g shared.infra -e persistent fc300aad48242d19e782a37d361dfa3e55868a629e52d7f6825c7ce65a72bf92  Edit the CDS configuration or set the dedicated environment variables. To enable the hactchery, just set the API HTTP and GRPC URL, the token freshly generated and the openstack variables.
Then start hatchery:
engine start hatchery:openstack --config config. <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.hatcheries.openstack/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>





   <article class="post advanced">
    <header class="post-header">
        <h2 class="post-title"><a href="https://ovh.github.io/cds/advanced/advanced.hatcheries.vsphere/">Hatchery Vsphere</a></h2>
    </header>
    <section class="post-excerpt">
        <p>CDS build using VMWare Vsphere infrastructure to spawn each CDS Workers inside dedicated VM.
Pre-requisites This hatchery spawns VM which obtains IP from DHCP. So first you have to create a DHCP server on your host with NAT if you want to access to the internet. In order to create you have multiple possibilities like create your own VM with a DHCP server configured or if you are comfortable with the VMWare tools you can use the NSX system. <a class="read-more" href="https://ovh.github.io/cds/advanced/advanced.hatcheries.vsphere/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>






<div style="margin-bottom:2rem"></div>

<nav class="pagination" role="navigation">
	
	<span class="page-number">Page 1 on 2</span>
	
	    <a class="older-posts" href="https://ovh.github.io/cds/advanced/page/2/">Previous Pages &rarr;</a>
	
</nav>






      </div>
    </div>

    
 
    

    <div id="navigation">
        

          
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://ovh.github.io/cds/js/clipboard.min.js"></script>
    <script src="https://ovh.github.io/cds/js/perfect-scrollbar.min.js"></script>
    <script src="https://ovh.github.io/cds/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://ovh.github.io/cds/js/jquery.sticky-kit.min.js"></script>
    <script src="https://ovh.github.io/cds/js/featherlight.min.js"></script>
    <script src="https://ovh.github.io/cds/js/html5shiv-printshiv.min.js"></script>
    <script src="https://ovh.github.io/cds/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://ovh.github.io/cds/js/modernizr.custom.71422.js"></script>
    <script src="https://ovh.github.io/cds/js/learn.js"></script>
    <script src="https://ovh.github.io/cds/js/hugo-learn.js"></script>

    
    <link href="https://ovh.github.io/cds/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="https://ovh.github.io/cds/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    

    

  </body>
</html>

