name: MyFirstWorkflow
on: [push]
env:
  myvar: workflowValue
jobs:
  skipJob:
    name: This is a skipped job
    if: 1 == 2
    region: default
    runs-on: ITCLIPRJVCS/my_vcs_server/gituser/myrepo/docker-debian@master
    steps:
      - run: echo 'Thanks you'
  alwaysJob:
    name: This is my first job
    if: always()
    region: default
    runs-on: ITCLIPRJVCS/my_vcs_server/gituser/myrepo/docker-debian@master
    steps:
      - run: echo 'Always job'
  myFirstJob:
    name: This is my first job
    if: cds.workflow == 'MyFirstWorkflow'
    region: default
    runs-on: ITCLIPRJVCS/my_vcs_server/gituser/myrepo/docker-debian@master
    steps:
      - uses: actions/checkout
        id: checkout
      - uses: actions/ITCLIPRJVCS/my_vcs_server/gituser/myrepo/test-parent-action@master
        id: customaction
      - run: echo ${{ env.myvar }}
        id: workflowEnv
      - run: echo ${{ env.myvar }}
        id: stepEnv
        env:
          myvar: stepValue
  mySecondJob:
    name: This is my second job
    region: default
    runs-on: ITCLIPRJVCS/my_vcs_server/gituser/myrepo/docker-debian@master
    continue-on-error: true
    steps:
      - run: exit 1
  myThirdJob:
    name: This is my third job
    needs: [mySecondJob]
    region: default
    env:
      myvar: jobValue
    runs-on: ITCLIPRJVCS/my_vcs_server/gituser/myrepo/docker-debian@master
    steps:
      - run: "echo 'End of workflow: ${{ env.myvar }}'"
        id: jobEnv
