<!DOCTYPE html>
<html id="docs" lang="en" class="">
	<head>
	<meta charset="utf-8">
<title>Worker Model Docker - CDS - Continuous Delivery Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="../../../images/favicon.png">




<link rel="stylesheet" href="../../../sass/styles.css" integrity="" media="screen">
<link rel="stylesheet" href="../../../css/callouts.css">
<link rel="stylesheet" href="../../../css/auto-complete.css">
<link rel="stylesheet" href="../../../css/fontawesome.min.css">
<link rel="stylesheet" href="../../../css/asciinema-player.css">
<link rel="stylesheet" href="../../../css/solarized-light.css">

<meta name="description"
    content="A worker model of type docker can be spawned by a Hatchery Docker Swarm or a Hatchery Kubernetes.
Register a worker Model from an existing Docker Image Docker Image golang:1.10 have a &ldquo;curl&rdquo; in $PATH, so it can be used as it is.
 In the UI, click on the wheel on the hand right top corner and select *workers&quot; (or go the the route #/worker) At the bottom of the page, fill the form  Name of your worker go-official-1.">
<meta property="og:description"
    content="A worker model of type docker can be spawned by a Hatchery Docker Swarm or a Hatchery Kubernetes.
Register a worker Model from an existing Docker Image Docker Image golang:1.10 have a &ldquo;curl&rdquo; in $PATH, so it can be used as it is.
 In the UI, click on the wheel on the hand right top corner and select *workers&quot; (or go the the route #/worker) At the bottom of the page, fill the form  Name of your worker go-official-1.">
<meta name="twitter:description"
    content="A worker model of type docker can be spawned by a Hatchery Docker Swarm or a Hatchery Kubernetes.
Register a worker Model from an existing Docker Image Docker Image golang:1.10 have a &ldquo;curl&rdquo; in $PATH, so it can be used as it is.
 In the UI, click on the wheel on the hand right top corner and select *workers&quot; (or go the the route #/worker) At the bottom of the page, fill the form  Name of your worker go-official-1.">
<meta property="og:url" content="/docs/tutorials/worker_model-docker/">
<meta property="og:title" content="Worker Model Docker">
<meta name="twitter:title" content="Worker Model Docker">
<meta name="twitter:image:alt" content="CDS - Continuous Delivery Service">
<meta property="og:image" content="/images/cds-transparent.png">
<script type="text/javascript" src="../../../js/anchor.min.js"></script>
<script type="text/javascript" src="../../../js/jquery.min.js"></script>
<script type="text/javascript" src="../../../js/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../../js/highlight.pack.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>
<script type="text/javascript" src="../../../js/script.js"></script>
<script type="text/javascript" src="../../../js/lunr.min.js"></script>
<a id="indexJSON" href="../../../index.json"></a>

<script type="text/javascript" src="../../../js/auto-complete.min.js"></script>
<script type="text/javascript" src="../../../js/search.js"></script>
<script type="text/javascript" src="../../../js/asciinema-player.min.js"></script>

	</head>
	<body>
		<section id="hero" class="light-text no-sub">
			<a href="../../../" class="logo"></a>
				<i id="tocburger" class="fa fa-bars" onclick='$("#toc").toggle()'></i><div class="nav-buttons" data-auto-burger="primary">
				<ul class="global-nav">
					
					
					<li><a href="../../../docs/" class="active">Documentation</a></li>
					
					<li><a href="../../../hosting/">Hosting your own instance</a></li>
					
					<li><a href="../../../development/">CDS Developer Manual</a></li>
					
					<li><a href="../../../about/">About</a></li>
					
					<li><i class="fa fa-search" onclick='$("#searchbox").toggle(); $("#search-query").focus().select()'></i></li>
					<li>
						<div id="btn-gh">
							<a class="github-button" href="https://github.com/ovh/cds" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star CDS on GitHub">Star</a>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</li>
				</ul>
				<div id="searchbox">
					<input data-search-input id="search-query" type="text" placeholder="search...">
					<span data-search-clear=""><i class="fa fa-close"></i></span>
				</div>
			</div>

<div id="headSubMenu" class="light-text">




	

		

		
		<ul>
			
			
			
			<li><a href="../../../docs/">Home</a></li>
			
			
				
				<li><a href="../../../docs/concepts/">Concepts</a></li>
			
				
				<li><a href="../../../docs/actions/">Actions</a></li>
			
				
				<li><a href="../../../docs/components/">Components</a></li>
			
				
				<li><a href="../../../docs/integrations/">Integrations</a></li>
			
				
				<li><a href="../../../docs/tutorials/" class="menuSelected">Tutorials</a></li>
			
		</ul>
		
	

	

		

		
	

	

		

		
	

	

		

		
	

</div>


		</section>
		<section id="page-content-with-menu">
			
<div id="toc">
     <div class="toc-container">
        
        
        
        
        
            
                
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                                    
                                    
                            
                        
                    
                
            
        
            
                
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                        
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                
            
        
        
        <i class="fa fa-bars" id="tocburger" onclick='$("#toc").toggle()'></i> 
<a class="item" data-title="Tutorials" href="../../../docs/tutorials/"></a>

	
	
	
	
		
			
<a class="item" data-title="Check npm vulnerabilities" href="../../../docs/tutorials/step_by_step_npm_vulnerabilities/"></a>

		
	
		
			
<a class="item" data-title="Init a CDS Workflow from a repository" href="../../../docs/tutorials/init_workflow_with_cdsctl/"></a>

		
	
		
			
<a class="item" data-title="Import a CDS Workflow from a repository" href="../../../docs/tutorials/import_workflow_with_webui/"></a>

		
	
		
			
<a class="item" data-title="Service Requirement NGINX" href="../../../docs/tutorials/service-requirement-nginx/"></a>

		
	
		
			
<a class="item" data-title="Build &amp; Deploy a standard application" href="../../../docs/tutorials/step_by_step_build_deploy/"></a>

		
	
		
			
<a class="item" data-title="Service Requirement PostgreSQL" href="../../../docs/tutorials/service-requirement-pg/"></a>

		
	
		
			
<a class="item" data-title="Build, tag and release an application" href="../../../docs/tutorials/step_by_step_build_tag_release/"></a>

		
	
		
			
<div class="item" data-title="Worker Model Docker">
	<div class="container">
		
		<a class="item" data-title="Worker Model Docker" href="../../../docs/tutorials/worker_model-docker/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="With your own Docker image" href="../../../docs/tutorials/worker_model-docker/docker-customized/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Worker Model OpenStack" href="../../../docs/tutorials/worker_model-openstack/"></a>

		
	
		
			
<a class="item" data-title="Worker Model vSphere" href="../../../docs/tutorials/worker_model-vsphere/"></a>

		
	





     </div>
</div>


			<div id="docsContent">
        		
	 
	 
<h1>Worker Model Docker</h1>



<nav id="TableOfContents">
  <ul>
    <li><a href="#register-a-worker-model-from-an-existing-docker-image">Register a worker Model from an existing Docker Image</a></li>
    <li><a href="#worker-model-docker-on-hatchery-swarm">Worker Model Docker on Hatchery Swarm</a></li>
  </ul>
</nav>

<p>A worker model of type <code>docker</code> can be spawned by a Hatchery Docker Swarm or a Hatchery Kubernetes.</p>
<h2 id="register-a-worker-model-from-an-existing-docker-image">Register a worker Model from an existing Docker Image</h2>
<p>Docker Image <em>golang:1.10</em> have a &ldquo;curl&rdquo; in $PATH, so it can be used as it is.</p>
<ul>
<li>In the UI, click on the wheel on the hand right top corner and select *workers&quot; (or go the the route <em>#/worker</em>)</li>
<li>At the bottom of the page, fill the form
<ul>
<li><strong>Name</strong> of your worker <em>go-official-1.10</em></li>
<li><strong>type</strong> <em>docker</em></li>
<li><strong>image</strong> <em>golang:1.10</em></li>
<li><strong>pattern</strong>: if you aren&rsquo;t an administrator select a <a href="../../../docs/concepts/worker-model/patterns/">configuration pattern</a> that an administrator have already created for this type of worker model.</li>
<li><strong>shell command</strong>: if you are an administrator you can directly edit the <code>main shell command</code> (main shell command is the command which accept a command to execute, for example <code>sh -c &quot;echo CDS&quot;</code>, here <code>sh -c</code> is the main shell command)</li>
<li><strong>the command</strong>: represent the command to launch the CDS worker cf: <a href="../../../docs/components/worker/">worker CLI</a></li>
<li>in order to launch your worker CDS allow you to use <a href="../../../docs/concepts/worker-model/variables/">a specific list of variables</a> which is interpolate when your worker will be spawned by your hatchery.</li>
</ul>
</li>
<li>Click on <em>Add</em> button and that&rsquo;s it</li>
</ul>
<p><img src="../../../images/workflows.pipelines.requirements.docker.worker-model.docker.add.png" alt="Add worker model"></p>

<blockquote class="note">
    <div><strong></strong> If you want to specify an image using a private registry or a private image. You need to check the private checkbox and fill credentials in username and password to access to your image. And if your image is not on docker hub but from a private registry you need to fill the registry info (the registry api url, for example for docker hub it&rsquo;s <a href="https://index.docker.io/v1/">https://index.docker.io/v1/</a> but we fill it by default).</div>
</blockquote>

<h2 id="worker-model-docker-on-hatchery-swarm">Worker Model Docker on Hatchery Swarm</h2>
<p>This hatchery offers some features on job pre-requisites, usable only on user&rsquo;s hatchery (ie. not a shared.infra hatchery).</p>
<ul>
<li><a href="../../../docs/concepts/requirement/">Service Link</a></li>
<li>options on worker model prerequisite
<ul>
<li>Port mapping: <code>--port=8080:8081/tcp --port=9080:9081/tcp</code></li>
<li>Privileged flag: <code>--privileged</code></li>
<li>Add host flag: <code>--add-host=aaa:1.2.3.4 --add-host=bbb:5.6.7.8</code></li>
<li>Use all: <code>--port=8080:8081/tcp --privileged --port=9080:9081/tcp --add-host=aaa:1.2.3.4 --add-host=bbb:5.6.7.8</code></li>
</ul>
</li>
</ul>
<p><img src="../../../images/workflows.pipelines.requirements.docker.worker-model.docker.png" alt="Job Prerequisites"></p>



	 

			</div>
		</section><footer>
			<main>
			<a href="https://www.ovh.com"><img src="https://ovh.github.io/cds/images/logo-ovh-white-72DPI.png"></a>
			<div>
				The CDS logos are copyrighted.
				Icons made by <a href="https://www.flaticon.com/authors/eucalyp">Eucalyp</a> 
				from <a href="https://www.flaticon.com/">www.flaticon.com</a>
			</div>
			</main>
		</footer>

	</body>
</html>
