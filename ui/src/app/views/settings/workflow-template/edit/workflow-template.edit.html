<div class="wrapper">
    <app-breadcrumb [path]="path"></app-breadcrumb>
    <app-tabs [tabs]="tabs" (onSelect)="selectTab($event)"></app-tabs>
    <app-scrollview class="scrollview" *ngIf="selectedTab" [ngSwitch]="selectedTab.key">
        <div *ngSwitchCase="'workflow_template'" class="ui grid">
            <div class="thirteen wide column">
                <app-workflow-template-form mode="edit" [loading]="loading" [workflowTemplate]="workflowTemplate"
                    [groups]="groups" (save)="saveWorkflowTemplate()" (delete)="deleteWorkflowTemplate()"></app-workflow-template-form>
            </div>
            <div class="three wide column">
                <app-workflow-template-help></app-workflow-template-help>
                <ng-container *ngIf="workflowTemplate">
                    <br />
                    <div class="field" *ngIf="workflowTemplate.first_audit">
                        <h3>{{ "common_created_by" | translate }}</h3>
                        {{ workflowTemplate.first_audit.triggered_by }}
                    </div>
                    <br />
                    <div class="field" *ngIf="workflowTemplate.last_audit">
                        <h3>{{ "common_last_modified" | translate }}</h3>
                        {{ workflowTemplate.last_audit.created }}
                    </div>
                </ng-container>
            </div>
        </div>
        <div *ngSwitchCase="'audits'" class="ui grid">
            <div class="sixteen wide column">
                <app-data-table [withPagination]="10" [columns]="columns" [data]="audits" [loading]="loading"
                    [withLineClick]="true" (clickLine)="clickAudit($event)"></app-data-table>
                <br />
                <app-diff-list *ngIf="diffItems" [items]="diffItems"></app-diff-list>
            </div>
        </div>
    </app-scrollview>
</div>
