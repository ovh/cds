<div class="ui segment">
    <div class="filter">
        <div class="ui right floated mini icon input">
            <input type="text" [(ngModel)]="filter" placeholder="{{'common_filter' | translate}}">
            <i class="search icon"></i>
        </div>
    </div>
    <ul>
        <li *ngFor="let v of filteredVulnerabilities; let i = index" [class.inactive]="v.ignored">
            <div class="header">
                <div class="ui label" *ngIf="v.ignored">Ignored</div>
                <div class="dot {{v.severity}}"></div>
                <div class="text">
                    <span class="component">{{ ' ' + v.component}}</span>
                    <span>{{ ' ' + v.version}}</span>
                    <span class="title">{{ v.title + ' '}}<a [href]="v.link" target="_blank">{{v.cve}}<i
                                class="external alternate icon"></i></a></span>
                </div>
                <div *ngIf="v.type" class="ui brown tag label">{{v.type}}</div>
                <div class="action" *ngIf="edit">
                    <button class="ui tiny icon button" (click)="ignoreVulnerability(i)" [class.loading]="v.loading"
                        [class.disabled]="v.loading">
                        <i class="undo icon" *ngIf="v.ignored"></i>
                        <i class="eye slash outline icon" *ngIf="!v.ignored"
                            title="{{ 'vulnerability_ignore' | translate }}"></i>
                    </button>
                </div>
            </div>
            <div class="resume" *ngIf="!v.ignored">
                <div class="description">
                    <markdown [data]="v.description"></markdown>
                </div>
                <a class="pointing" (click)="showMore = !showMore">
                    <span *ngIf="showMore">{{ 'vunerability_hide' | translate }}</span>
                    <span *ngIf="!showMore">{{ 'vulnerability_showmore' | translate }}</span>
                </a>
                <div class="more" *ngIf="showMore">
                    <div class="origin">
                        <h4>{{ 'vulnerability_origin' | translate }}</h4>
                        <pre>{{v.origin}}</pre>
                    </div>
                    <div class="fixin">
                        <h4>{{ 'vulnerability_fixin' | translate }}</h4>
                        <pre>{{v.fix_in}}</pre>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>
