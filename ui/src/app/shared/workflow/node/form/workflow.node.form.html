<div class="fields" *ngIf="node && project">
    <div class="six wide field">
        <label>{{ 'workflow_root_context_pipeline' | translate}}</label>
        <ng-container *ngIf="node.id > 0;else editPipeline">
            <div class="ui input">{{node.pipeline.name}}</div>
        </ng-container>
        <ng-template #editPipeline>
            <sm-select 
                placeholder="{{ 'common_pipeline' | translate }}"
                [(model)]="node.pipeline_id"
                [options]="{'fullTextSearch': true}"
                (onChange)="change()">
                <option *ngFor="let p of project.pipelines" [value]="p.id">{{ p.name}}</option>
            </sm-select>
        </ng-template>
    </div>
    <div class="five wide field">
        <label>{{ 'workflow_root_context_application' | translate}}</label>
        <sm-select 
            placeholder="{{ 'common_application' | translate }}"
            [(model)]="node.context.application_id"
            [options]="{'fullTextSearch': true}"
            (onChange)="change()">
            <option *ngFor="let a of project.applications" [value]="a.id">{{ a.name}}</option>
        </sm-select>
    </div>
    <div class="five wide field">
        <label>{{ 'workflow_root_context_environment' | translate}}</label>
        <sm-select
            placeholder="{{ 'common_environment' | translate }}"
            [(model)]="node.context.environment_id"
            [options]="{'fullTextSearch': true}"
            (onChange)="change()">
            <option *ngFor="let e of project.environments" [value]="e.id">{{ e.name}}</option>
        </sm-select>
    </div>
</div>